<main id="js-page-content" role="main" class="page-content">

    <div class="subheader">
        <h1 class="subheader-title">
            <i class='subheader-icon fal fa-chart-area'></i> Order <span class='fw-300'>Management</span>
            <small>
            </small>
        </h1>
        <div id="addOrder" class="modal fade">
            <div class="modal-dialog">
                <div class="modal-content">
                    <form [formGroup]="addForm" (ngSubmit)="addSubmit()">
                        <div class="modal-header">						
                            <h4 class="modal-title">Add Order</h4>
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        </div>
                        <div class="modal-body">	 		
                            <div class="form-group">
                                <label>Order Address</label>
                                <input type="text" class="form-control" formControlName="order_address" id="order_address" required>
                            </div>
                            <div class="form-group">
                                <label>Order Reference</label>
                                <input type="text" class="form-control" formControlName="order_reference" id="order_reference" required>
                            </div>
                            <div class="form-group">
                                <label>Order Date</label>
                                <input type="date" class="form-control" formControlName="order_date" id="order_date" required>
                            </div>
                            <div class="form-group">
                                <label>Order Code</label>
                                <input type="text" class="form-control" formControlName="order_code" id="order_code" required>
                            </div>
                            <div class="form-group">
                                <label>Order HT</label>
                                <input type="text" class="form-control" formControlName="order_ht" id="order_ht" required>
                            </div>
                            <div class="form-group">
                                <label>Order TVA</label>
                                <input type="text" class="form-control" formControlName="order_tva" id="order_tva" required>
                            </div>
                            <div class="form-group">
                                <label>Order TTC</label>
                                <input type="text" class="form-control" formControlName="order_ttc" id="order_ttc" required>
                            </div>
                            <div class="form-group">
                                <label>Order Longtitude</label>
                                <input type="text" class="form-control" formControlName="order_lng" id="order_lng" required>
                            </div>
                            <div class="form-group">
                                <label>Order Latitude</label>
                                <input type="text" class="form-control" formControlName="order_lat" id="order_lat" required>
                            </div>
				
                        </div>
                        <div class="modal-footer">
                            <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                            <button type="submit" class="btn btn-success">Add</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="d-flex mr-0">
            <div>
                <a href="#addOrder" data-toggle="modal">
                <button class="btn btn-primary mt-3 float-right waves-effect waves-themed" >Add Order</button>
                </a>
            </div>
        </div>
    </div>
    <table id="dt-basic-example" class="table table-bordered table-hover table-striped w-100" >
        <thead class="thead-dark">
            <tr>
                <th>OrderID</th>
                <th>Shipping.Address</th>
                <th>Order.Date</th>
                <th>Order.Code</th>
                <th>Order.HT</th>
                <th>Order.TVA</th>
                <th>Order.TTC</th>
                <th>Latitude</th>
                <th>Longitude</th>   
                <th style=" text-align: center;">Actions</th>       
    
            </tr>
        </thead>	
        <tbody>
            <tr *ngFor="let o of orders | paginate: { itemsPerPage: tableSize, currentPage: page, totalItems: count};let i = index">
                <td>{{o.order_id}}</td>
                <td>{{o.order_address}}</td>
                <td>{{o.order_date | date:'yyyy-MM-dd'}}</td>
                <td>{{o.order_code}}</td>
                <td>{{o.order_ht}}</td>
                <td>{{o.order_tva}}</td>
                <td>{{o.order_ttc}}</td>
                <td>{{o.order_lng | number : '1.2-2'}}</td>
                <td>{{o.order_lat | number : '1.2-2'}}</td>
                <td style=" text-align: center;">            
                <a href="#editOrder" data-toggle="modal" (click)="editOrder(o)" class="btn btn-secondary btn-lg btn-icon position-relative js-waves-off mr-4">
                  <i class="fas fa-pen fs-md"></i>
                </a>
                <a href="#deleteOrder" (click)="deleteOrder(o)" data-toggle="modal" class="btn btn-secondary btn-lg btn-icon position-relative js-waves-off">
                  <i class="fas fa-trash fs-md"></i>
                </a>
            </td>
     </tr>
    
        </tbody>
    </table>
    <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
    </pagination-controls>
    
    <div id="editOrder" class="modal fade">   
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                    <div class="dropdown-header bg-trans-gradient d-flex justify-content-center align-items-center w-100">
                        <h4 class="m-0 text-center color-white">
                            Edit Order
                            <small class="mb-0 opacity-80">Order Management Settings</small>
                        </h4>
                        <button type="button" class="close text-white position-absolute pos-top pos-right p-2 m-1 mr-2" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true"><i class="fal fa-times"></i></span>
                        </button>
                    </div> 
                <form [formGroup]="editForm">
                    
                    <div class="modal-body">	 		
                        <div class="form-group">
                            <label>Order Address</label>
                            <input type="text" class="form-control" formControlName="order_address" id="order_address" required>
                        </div>
                        <div class="form-group">
                            <label>Order Reference</label>
                            <input type="text" class="form-control" formControlName="order_reference" id="order_reference" required>
                        </div>
                        <div class="form-group">
                            <label>Order Date</label>
                            <input type="date" class="form-control" formControlName="order_date" id="order_date" required>
                        </div>
                        <div class="form-group">
                            <label>Order Code</label>
                            <input type="text" class="form-control" formControlName="order_code" id="order_code" required>
                        </div>
                        <div class="form-group">
                            <label>Order HT</label>
                            <input type="text" class="form-control" formControlName="order_ht" id="order_ht" required>
                        </div>
                        <div class="form-group">
                            <label>Order TVA</label>
                            <input type="text" class="form-control" formControlName="order_tva" id="order_tva" required>
                        </div>
                        <div class="form-group">
                            <label>Order TTC</label>
                            <input type="text" class="form-control" formControlName="order_ttc" id="order_ttc" required>
                        </div>
                        <div class="form-group">
                            <label>Order Longtitude</label>
                            <input type="text" class="form-control" formControlName="order_lng" id="order_lng" required>
                        </div>
                        <div class="form-group">
                            <label>Order Latitude</label>
                            <input type="text" class="form-control" formControlName="order_lat" id="order_lat" required>
                        </div>
            
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <input type="submit" class="btn btn-success" value="Edit">
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div id="deleteOrder" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form>
                    <div class="modal-header">						
                        <h4 class="modal-title">Delete Order</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">					
                        <p>Are you sure you want to delete these Records?</p>
                        <p class="text-warning"><small>This action cannot be undone.</small></p>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <button class="btn btn-danger">Delete</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</main>