<main id="js-page-content" role="main" class="page-content">

    <div class="subheader">
        <h1 class="subheader-title">
            <i class='subheader-icon fal fa-chart-area'></i> Truck <span class='fw-300'>Management</span>
            <small>
            </small>
        </h1>
    
        <div class="d-flex mr-0">
            <div>
                <a href="#addClient" data-toggle="modal">
                <button class="btn btn-primary mt-3 float-right waves-effect waves-themed" >Add Truck</button>
                </a>
            </div>
        </div>
    </div>
    
    <table id="dt-basic-example" class="table table-bordered table-hover table-striped w-100" >
        <thead class="thead-dark">
            <tr>
                <th>Status</th>
                <th>Plate Number</th>
                <th>Truck Type</th>
                <th>Driver</th>
                <th>Capacity</th>       
                <th style=" text-align: center;">Actions</th>                  
            </tr>
        </thead>	
        <tbody>
            <tr *ngFor="let t of trucks | paginate: { itemsPerPage: tableSize, currentPage: page, totalItems: count};let i = index">
                <td>
                    <button type="button" [class]='getButton("Available")'>
                        <span [class]='getIcon("Available")'>                               
                       </span> &nbsp;
                        <b>{{t.truck_status | transform}}</b>
                    </button>     
                </td>
                <td>
                    <span class="fas fa-paper-plane"></span>
                    {{t.truck_plate}}
                </td>
                <td>{{t.truck_name}}</td>
                <td>{{t.truck_name}}</td>
                <td>{{t.truck_capacity}}</td>
                <td>            
                <a  (click)="editClient(t)" class="btn btn-secondary btn-lg btn-icon position-relative js-waves-off mr-4">
                  <i class="fas fa-pen fs-md"></i>
                </a>
                <a href="#deleteClient" (click)="deleteTruck(t)" data-toggle="modal" class="btn btn-secondary btn-lg btn-icon position-relative js-waves-off">
                  <i class="fas fa-trash fs-md"></i>
                </a>
            </td>
     </tr>
    
        </tbody>
    </table>
    <pagination-controls previousLabel="Prev" nextLabel="Next" (pageChange)="onTableDataChange($event)">
    </pagination-controls>
    
    <div id="addClient" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form [formGroup]="addForm" (ngSubmit)="addSubmit()">
                    <div class="modal-header">						
                        <h4 class="modal-title">Add Employee</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">	 		
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" class="form-control" formControlName="company_address" id="company_address" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" formControlName="company_name" id="company_name" required>
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <textarea class="form-control" formControlName="company_phone" id="company_phone"required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" class="form-control" formControlName="company_email" id="company_email" required>
                        </div>					
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <button type="submit" class="btn btn-success">Add</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="editClient" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form [formGroup]="editForm">
                    <div class="modal-header">						
                        <h4 class="modal-title">Add Truck</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">	 		
                        <div class="form-group">
                            <label>Name</label>
                            <input type="text" class="form-control" formControlName="company_address" id="company_address" required>
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" class="form-control" formControlName="company_name" id="company_name" required>
                        </div>
                        <div class="form-group">
                            <label>Address</label>
                            <textarea class="form-control" formControlName="company_phone" id="company_phone"required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Phone</label>
                            <input type="text" class="form-control" formControlName="company_email" id="company_email" required>
                        </div>					
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <input type="submit" class="btn btn-success" value="Add">
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div id="deleteClient" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <form>
                    <div class="modal-header">						
                        <h4 class="modal-title">Delete Employee</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body">					
                        <p>Are you sure you want to delete these Records?</p>
                        <p class="text-warning"><small>This action cannot be undone.</small></p>
                    </div>
                    <div class="modal-footer">
                        <input type="button" class="btn btn-default" data-dismiss="modal" value="Cancel">
                        <button class="btn btn-danger">Delete</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    </main>
    
    